(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const n=function n(){var i=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,o=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;e(this,n),t(this,"startMonitoring",(function(){i.notificationCallback("Starting monitoring of mailbox..."),i.intervalID=window.setInterval(i.signalStateChange,i.signalInterval)})),t(this,"stopMonitoring",(function(){null!==i.intervalID&&(window.clearInterval(i.intervalID),i.intervalID=null,i.notificationCallback("Mailbox monitoring stopped..."))})),t(this,"reset",(function(){null!==i.intervalID&&(window.clearInterval(i.intervalID),i.intervalID=null)})),t(this,"signalStateChange",(function(){var e=i.lastLightLevel>=0?-1*Math.random().toFixed(2):Math.random().toFixed(2);i.signalCallback(e),i.lastLightLevel=e})),this.signalInterval=l,this.signalCallback=o,this.notificationCallback=a,this.intervalID=null,this.lastLightLevel=0};var i,l=document.getElementById("horn"),o=document.getElementById("interval"),a=document.querySelector(".toggle"),r=document.querySelector(".executionDetails .logs"),c=document.querySelector(".notifications .logs"),s=document.querySelector(".resetButton"),d=function(e,t){var n=document.createElement("p");c.querySelectorAll("p").length>=15&&c.removeChild(c.firstChild),"green"===t?n.classList.add("green"):"yellow"===t?n.classList.add("yellow"):"red"===t&&n.classList.add("red"),n.innerHTML="".concat(e),c.appendChild(n),n.scrollIntoView()},u=function(e){!function(e){var t=document.createElement("p");r.querySelectorAll("p").length>=30&&r.removeChild(r.firstChild),t.innerHTML="Mailbox state changed - lightLevel: <span class='signal'>".concat(e,"</span>"),r.appendChild(t),t.scrollIntoView()}(e),e>=.85?(d("The door is opened - Light level is ".concat(e),"green"),l.play()):e>=.5?d("The door is half-opened - Light level is ".concat(e),"yellow"):e>=.2?d("The door is half-closed - Light level is ".concat(e),"yellow"):d("The door is closed - Light level is ".concat(e),"red")},g=!1;a.addEventListener("click",(function(){a.classList.toggle("active"),(g=!g)?(i=new n(o.value,(function(e){return function(e,t){t(e)}(e,u)}),(function(e){return function(e,t){t(e,"green")}(e,d)}))).startMonitoring():i.stopMonitoring()})),s.addEventListener("click",(function(){r.innerHTML="",c.innerHTML="",i.reset(),a.classList.remove("active"),g=!1}))})();